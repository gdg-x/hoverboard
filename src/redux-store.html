<link rel="import" href="../bower_components/polymer-redux/polymer-redux.html">
<script src="/node_modules/redux/dist/redux.min.js"></script>

<script>
  const initialState = {
    ui: {
      isDrawerOpened: false
    }
  };

  const reducer = (state, action) => {
    if (!state) return initialState;

    switch (action.type) {
      case 'TOGGLE_DRAWER':
        return Object.assign({}, state, {
          ui: {
            isDrawerOpened: action.value !== null ? action.value : !state.ui.isDrawerOpened
          }
        });
    }
  };

  const store = Redux.createStore(
    reducer,
    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()
  );
  const ReduxMixin = PolymerRedux(store);

  const uiActions = {
    toggleDrawer: (value = null) => {
      store.dispatch({
        type: 'TOGGLE_DRAWER',
        value
      });
    }
  }
</script>
